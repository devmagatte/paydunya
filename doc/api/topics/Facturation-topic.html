<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="Facturation topic docs, for the Dart programming language.">
  <title>Facturation topic - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../static-assets/github.css?v1">
  <link rel="stylesheet" href="../static-assets/styles.css?v1">
  <link rel="icon" href="../static-assets/favicon.png?v1">

  
</head>


<body data-base-href="../" data-using-base-href="false" class="light-theme">

<div id="overlay-under-drawer"></div>

<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../index.html">paydunya</a></li>
    <li class="self-crumb">Facturation topic</li>
  </ol>
  <div class="self-name">Facturation</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <div class="toggle" id="theme-button">
    <label for="theme">
      <input type="checkbox" id="theme" value="light-theme">
      <span id="dark-theme-button" class="material-symbols-outlined">
        brightness_4
      </span>
      <span id="light-theme-button" class="material-symbols-outlined">
        brightness_5
      </span>
    </label>
  </div>
</header>
<main>

<div id="dartdoc-main-content" class="main-content">
  <h1><span class="kind-category">Facturation</span> topic</h1>
  
<section class="desc markdown">
  <p>We have several parameters that we can include on the invoice. Although most of these parameters are optional, we strongly recommend that you provide them all. This will give you great flexibility in managing your transactions.</p>
<p>The billing parameters:</p>
<ul>
<li>The store</li>
<li>The invoice</li>
<li>Custom data</li>
<li>Actions</li>
</ul>
<h3 id="the-store">The store</h3>
<p>Only the store name is required. However, you have the option to provide other optional parameters.</p>
<pre class="language-dart"><code class="language-dart">const store = Store(
    name: 'Royal Event',
    tagline: "Je m'oublie pour renaitre en vous !",
    phone: '+22177767778888',
    logoUrl: 'https://image-url.domain/image.png',
    websiteUrl: 'https://image-url.domain',
);
</code></pre>
<h3 id="the-invoice">The invoice</h3>
<p>Regarding the invoice, only the total amount is mandatory. However, you can add additional information such as a list of items, applicable taxes, and a detailed description.</p>
<pre class="language-dart"><code class="language-dart">const items = [
    Item(
        name: 'Croco Shoes',
        quantity: 3,
        unitPrice: 10000,
        totalPrice: 30000,
        description:
            'Shoes made from authentic crocodile skin that chases poverty away',
    ),
 ];

const taxes = [
    Taxe(
        name: 'VAT (18%)',
        amount: 6300,
    ),
];

const invoice = Invoice(
    totalAmount: 42300,
    description:
            'Payment of 42300 FCFA for item(s) purchased on Magasin le Choco',
    items: items,
    taxes: taxes,
);
</code></pre>
<h3 id="custom-data">Custom data</h3>
<p>If you need to add additional data (for example, for a contest, you can save information about each winner) for later use, Paydunya offers the possibility to save this data on its servers and retrieve it once the payment is successful.</p>
<p>Custom data is not displayed on the payment page, invoices/receipts, downloads, and prints. They are only retrieved using our confirm callback action at the API level.</p>
<pre class="language-dart"><code class="language-dart">const Map&lt;String, dynamic&gt; customData = {
    "category": "Contest",
    "period": "Christmas 2015",
    "winner_number": 5,
    "prize": "50% discount voucher"
};

const Map&lt;String, dynamic&gt; customData = {
   "phone_brand": "Nokia",
    "IMEI": "72892821010728",
    "model": "Luna"
};
</code></pre>
<h3 id="actions">Actions</h3>
<p>It is possible to add a URL to redirect customers after a payment cancellation or success, as well as receive transaction information instantly through the IPN. The IPN corresponds to the URL of a file on the client's server to receive transaction information, which is to be processed in the back office. Failed and cancelled payments have different statuses, but retain the same response format.</p>
<pre class="language-dart"><code class="language-dart">const actions = ActionsUrl(
    cancelUrl: 'http://magasin-le-choco.com/cancel_url.aspx',
    returnUrl: 'http://magasin-le-choco.com/callback_url.aspx',
    callbackUrl: 'http://magasin-le-choco.com/return_url.aspx',
);
</code></pre>
<h3 id="billing-creation">Billing creation</h3>
<p>For invoice creation, we need mandatory information from the store and invoice.</p>
<pre class="language-dart"><code class="language-dart">const billing = Billing(
    store: store,
    invoice: invoice,
    customData: customData,
    actions: actions,
);

final checkoutInvoice = await paydunya.createChekoutInvoice(
    billing: billing
);
</code></pre>
</section>



  <section class="summary offset-anchor" id="classes">
    <h2>Classes</h2>

    <dl>
      <dt id="Paydunya">
  <span class="name "><a href="../paydunya/Paydunya-class.html">Paydunya</a></span> 
    <span class="category facturation cp-1 linked" title="This is part of the Facturation topic."><a href="../topics/Facturation-topic.html">Facturation</a></span>

</dt>
<dd>
  
</dd>

    </dl>
  </section>









</div> <!-- /.main-content -->

<div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
  <header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
  <li><a href="../index.html">paydunya</a></li>
  <li class="self-crumb">Facturation topic</li>
</ol>


  <h5><span class="package-name">paydunya</span> <span class="package-kind">package</span></h5>
  <ol>
      <li class="section-title">Topics</li>
        <li><a href="../topics/Configuration-topic.html">Configuration</a></li>
        <li><a href="../topics/Facturation-topic.html">Facturation</a></li>
        <li><a href="../topics/Payment-topic.html">Payment</a></li>
      <li class="section-title">Libraries</li>
      <li><a href="../paydunya/paydunya-library.html">paydunya</a></li>
</ol>

</div>

<div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  <h5>Facturation topic</h5>
  <ol>


    <li class="section-title"><a href="../topics/Facturation-topic.html#classes">Classes</a></li>
      <li><a href="../paydunya/Paydunya-class.html">Paydunya</a></li>






</ol>

</div>
<!--/sidebar-offcanvas-right-->
</main>

<footer>
  <span class="no-break">
    paydunya
      1.0.1
  </span>

  
</footer>



<script src="../static-assets/highlight.pack.js?v1"></script>
<script src="../static-assets/docs.dart.js"></script>



</body>

</html>

